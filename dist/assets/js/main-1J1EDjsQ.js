(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();function v(){const n="http://pdotest.lan/php/connect.php",l=document.querySelector("form"),i=l.querySelector("button.submit-button");i.onclick=e=>{e.preventDefault()},i.addEventListener("click",d);function d(){document.querySelector(".error-busy").innerHTML=`<span class="busy-icon">
<i class="fas fa-cog"></i>
</span>
<p class="error-busy-text">
Processing...
</p>
</div>`,document.querySelector(".error-fail").style.display="none",document.querySelector(".error-pass").style.display="none",document.querySelector(".error-busy").style.display="flex";let e=new XMLHttpRequest;e.open("POST",n,!0),e.onload=function(){if(e.readyState===XMLHttpRequest.DONE&&e.status===200){let u=e.responseText;u=="Database Connected!"?(setTimeout(()=>{document.querySelector(".error-pass").innerHTML=u,document.querySelector(".error-busy").style.display="none",document.querySelector(".error-fail").style.display="none",document.querySelector(".content-text").style.display="none",document.querySelector(".error-pass").style.display="block"},1e3),setTimeout(()=>{document.querySelector("form").reset(),document.querySelector(".error-pass").style.display="none",document.querySelector(".content-text").style.display="block"},5e3)):setTimeout(()=>{document.querySelector(".error-fail").innerHTML=u,document.querySelector(".error-busy").style.display="none",document.querySelector(".error-pass").style.display="none",document.querySelector(".content-text").style.display="none",document.querySelector(".error-fail").style.display="block"},1e3)}};let r=new FormData(l);e.send(r)}}function S(){const n=document.querySelector(".form .form-block input[type='password']");let l=document.querySelector(".form .form-block i");l.onclick=()=>{n.type==="password"?(n.type="text",n.classList.add("active"),l.classList.add("active")):(n.type="password",n.classList.remove("active"),l.classList.remove("active"))}}function q(){const n=document.querySelector(".host-value"),l=document.querySelector(".host-list"),i=[...document.querySelectorAll("li.host-list-item")],d=document.querySelector(".port-value"),e=document.querySelector(".port-list"),r=[...document.querySelectorAll("li.port-list-item")];let u=[],y=[];i.forEach(t=>{u.push(t.textContent)}),r.forEach(t=>{y.push(t.textContent)}),n.addEventListener("input",()=>{l.classList.add("open");let t=n.value.toLowerCase();if(t.length>0)for(let s=0;s<u.length;s++)t.substring(0,t.length)!==u[s].substring(0,t.length).toLowerCase()?i[s].classList.add("closed"):i[s].classList.remove("closed");else for(let s=0;s<i.length;s++)i[s].classList.remove("closed")}),d.addEventListener("input",()=>{e.classList.add("open");let t=d.value.toLowerCase();if(t.length>0)for(let s=0;s<y.length;s++)t.substring(0,t.length)!==y[s].substring(0,t.length).toLowerCase()?r[s].classList.add("closed"):r[s].classList.remove("closed");else for(let s=0;s<r.length;s++)r[s].classList.remove("closed")}),i.forEach(t=>{t.addEventListener("click",s=>{n.value=t.textContent,i.forEach(p=>{p.classList.add("closed")})})}),r.forEach(t=>{t.addEventListener("click",s=>{d.value=t.textContent,r.forEach(p=>{p.classList.add("closed")})})}),n.addEventListener("focus",()=>{n.placeholder="Type to filter",l.classList.add("open"),i.forEach(t=>{t.classList.remove("closed")})}),d.addEventListener("focus",()=>{d.placeholder="Type to filter",e.classList.add("open"),r.forEach(t=>{t.classList.remove("closed")})}),n.addEventListener("blur",()=>{n.placeholder="Select Host",l.classList.remove("open")}),d.addEventListener("blur",()=>{d.placeholder="Select Port",e.classList.remove("open")}),document.addEventListener("click",t=>{const s=l.contains(t.target),p=n.contains(t.target);!s&&!p&&l.classList.remove("open")}),document.addEventListener("click",t=>{const s=e.contains(t.target),p=d.contains(t.target);!s&&!p&&e.classList.remove("open")})}function g(){document.querySelector(".error-wrapper");const n=document.querySelector("#db_host"),l=document.querySelector("#db_port"),i=document.querySelector("#db_name"),d=document.querySelector("#db_user");document.querySelector("#db_pass");const e=document.querySelector("#pdoTest"),r=()=>{let o=!1;const c=3,a=255,m=n.value.trim();return p(m)?h(m.length,c,a)?(b(n),o=!0):f(n,`Name must be between ${c} and ${a} characters.`):f(n,"Database Host cannot be blank."),o},u=()=>{let o=!1;const c=l.value.trim();return p(c)?s(c)?(b(l),o=!0):f(l,"Please enter a valid port number"):f(l,"Database Port cannot be blank."),o},y=()=>{let o=!1;const c=255,a=i.value.trim();return p(a)?a.length>c?f(i,`Database Name cannot be more than ${c} characters.`):(b(i),o=!0):f(i,"Database Name cannot be blank."),o},t=()=>{let o=!1;const c=2,a=255,m=d.value.trim();return p(m)?h(m.length,c,a)?(b(d),o=!0):f(d,`Database Username must be between ${c} and ${a} characters.`):f(d,"Database Username cannot be blank."),o},s=o=>/^[0-9]{0,}$/.test(o),p=o=>o!=="",h=(o,c,a)=>!(o<c||o>a),f=(o,c)=>{const a=o.parentElement;a.classList.remove("success"),a.classList.add("error");const m=a.querySelector("small");m.textContent=c},b=o=>{const c=o.parentElement;c.classList.remove("error"),c.classList.add("success");const a=c.querySelector("small");a.textContent=""},L=(o,c=500)=>{let a;return(...m)=>{a&&clearTimeout(a),a=setTimeout(()=>{o.apply(null,m)},c)}};e.addEventListener("input",L(function(o){switch(o.target.id){case"db_host":r();break;case"db_port":u();break;case"db_name":y();break;case"db_user":t();break}})),e.addEventListener("focusout",L(function(o){switch(o.target.id){case"db_host":r();break;case"db_port":u();break}}))}function E(){S(),q(),g(),v()}E();
